(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"6dU7":function(t,e,i){"use strict";i.r(e),i.d(e,"DashboardModule",function(){return C});var o=i("s7LF"),n=i("hrfs"),a=i("FE24"),s=i("8Y7J");const c={provide:o.d,useExisting:Object(s.T)(()=>r),multi:!0};let r=(()=>{class t{constructor(){this.btnCheckboxTrue=!0,this.btnCheckboxFalse=!1,this.state=!1,this.onChange=Function.prototype,this.onTouched=Function.prototype}onClick(){this.isDisabled||(this.toggle(!this.state),this.onChange(this.value))}ngOnInit(){this.toggle(this.trueValue===this.value)}get trueValue(){return void 0===this.btnCheckboxTrue||this.btnCheckboxTrue}get falseValue(){return void 0!==this.btnCheckboxFalse&&this.btnCheckboxFalse}toggle(t){this.state=t,this.value=this.state?this.trueValue:this.falseValue}writeValue(t){this.state=this.trueValue===t,this.value=t?this.trueValue:this.falseValue}setDisabledState(t){this.isDisabled=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Hb({type:t,selectors:[["","btnCheckbox",""]],hostVars:3,hostBindings:function(t,e){1&t&&s.Zb("click",function(){return e.onClick()}),2&t&&(s.Bb("aria-pressed",e.state),s.Eb("active",e.state))},inputs:{btnCheckboxTrue:"btnCheckboxTrue",btnCheckboxFalse:"btnCheckboxFalse"},features:[s.zb([c])]}),t})();const l={provide:o.d,useExisting:Object(s.T)(()=>b),multi:!0};let b=(()=>{class t{constructor(t,e,i,o){this.el=t,this.cdr=e,this.renderer=i,this.group=o,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.role="radio",this._hasFocus=!1}get value(){return this.group?this.group.value:this._value}set value(t){this.group?this.group.value=t:this._value=t}get disabled(){return this._disabled}set disabled(t){this.setDisabledState(t)}get controlOrGroupDisabled(){return!!(this.disabled||this.group&&this.group.disabled)||void 0}get hasDisabledClass(){return this.controlOrGroupDisabled&&!this.isActive}get isActive(){return this.btnRadio===this.value}get tabindex(){return this.controlOrGroupDisabled?void 0:this.isActive||null==this.group?0:-1}get hasFocus(){return this._hasFocus}toggleIfAllowed(){this.canToggle()&&(this.value=this.uncheckable&&this.btnRadio===this.value?void 0:this.btnRadio,this._onChange(this.value))}onSpacePressed(t){this.toggleIfAllowed(),t.preventDefault()}focus(){this.el.nativeElement.focus()}onFocus(){this._hasFocus=!0}onBlur(){this._hasFocus=!1,this.onTouched()}canToggle(){return!this.controlOrGroupDisabled&&(this.uncheckable||this.btnRadio!==this.value)}ngOnInit(){this.uncheckable=void 0!==this.uncheckable}_onChange(t){this.group?this.group.value=t:(this.onTouched(),this.onChange(t))}writeValue(t){this.value=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,t?this.renderer.setAttribute(this.el.nativeElement,"disabled","disabled"):this.renderer.removeAttribute(this.el.nativeElement,"disabled")}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(s.l),s.Mb(s.h),s.Mb(s.E),s.Mb(Object(s.T)(()=>u),8))},t.\u0275dir=s.Hb({type:t,selectors:[["","btnRadio",""]],hostVars:8,hostBindings:function(t,e){1&t&&s.Zb("click",function(){return e.toggleIfAllowed()})("keydown.space",function(t){return e.onSpacePressed(t)})("focus",function(){return e.onFocus()})("blur",function(){return e.onBlur()}),2&t&&(s.Bb("role",e.role)("aria-disabled",e.controlOrGroupDisabled)("aria-checked",e.isActive)("tabindex",e.tabindex),s.Eb("disabled",e.hasDisabledClass)("active",e.isActive))},inputs:{value:"value",disabled:"disabled",uncheckable:"uncheckable",btnRadio:"btnRadio"},features:[s.zb([l])]}),t})();const d={provide:o.d,useExisting:Object(s.T)(()=>u),multi:!0};let u=(()=>{class t{constructor(t){this.cdr=t,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.role="radiogroup"}get value(){return this._value}set value(t){this._value=t,this.onChange(t)}get tabindex(){return this._disabled?null:0}writeValue(t){this._value=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.radioButtons&&(this._disabled=t,this.radioButtons.forEach(e=>{e.setDisabledState(t)}),this.cdr.markForCheck())}onFocus(){if(this._disabled)return;const t=this.getActiveOrFocusedRadio();if(t)t.focus();else{const t=this.radioButtons.find(t=>!t.disabled);t&&t.focus()}}onBlur(){this.onTouched&&this.onTouched()}selectNext(t){this.selectInDirection("next"),t.preventDefault()}selectPrevious(t){this.selectInDirection("previous"),t.preventDefault()}get disabled(){return this._disabled}selectInDirection(t){if(this._disabled)return;function e(e,i){let o=(e+("next"===t?1:-1))%i.length;return o<0&&(o=i.length-1),o}const i=this.getActiveOrFocusedRadio();if(i){const t=this.radioButtons.toArray(),o=t.indexOf(i);for(let i=e(o,t);i!==o;i=e(i,t))if(t[i].canToggle()){t[i].toggleIfAllowed(),t[i].focus();break}}}getActiveOrFocusedRadio(){return this.radioButtons.find(t=>t.isActive)||this.radioButtons.find(t=>t.hasFocus)}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(s.h))},t.\u0275dir=s.Hb({type:t,selectors:[["","btnRadioGroup",""]],contentQueries:function(t,e,i){if(1&t&&s.Fb(i,b,0),2&t){let t;s.nc(t=s.ac())&&(e.radioButtons=t)}},hostVars:2,hostBindings:function(t,e){1&t&&s.Zb("focus",function(){return e.onFocus()})("blur",function(){return e.onBlur()})("keydown.ArrowRight",function(t){return e.selectNext(t)})("keydown.ArrowDown",function(t){return e.selectNext(t)})("keydown.ArrowLeft",function(t){return e.selectPrevious(t)})("keydown.ArrowUp",function(t){return e.selectPrevious(t)}),2&t&&s.Bb("role",e.role)("tabindex",e.tabindex)},features:[s.zb([d])]}),t})(),h=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({}),t})();var p=i("iInd"),g=i("IheW"),f=i("YtQK"),m=i("SVse"),v=i("LqlI");const S=["addModal"],R=["updateModal"];function y(t,e){if(1&t){const t=s.Tb();s.Sb(0,"tr"),s.Sb(1,"td"),s.xc(2),s.Rb(),s.Sb(3,"td"),s.xc(4),s.Rb(),s.Sb(5,"td"),s.xc(6),s.Rb(),s.Sb(7,"td"),s.xc(8),s.Rb(),s.Sb(9,"td"),s.xc(10),s.Rb(),s.Sb(11,"td"),s.xc(12),s.Rb(),s.Sb(13,"td"),s.Sb(14,"div",1),s.Sb(15,"button",39),s.Zb("click",function(){s.qc(t);const i=e.$implicit;return s.cc().deleteEmployee(i.id)}),s.Nb(16,"i",40),s.Rb(),s.Sb(17,"button",41),s.Zb("click",function(){s.qc(t);const i=e.$implicit;return s.cc().fillUpdateModal(i)}),s.Nb(18,"i",42),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=e.$implicit;s.Ab(2),s.yc(t.id),s.Ab(2),s.yc(t.name),s.Ab(2),s.yc(t.occupation),s.Ab(2),s.yc(t.CIN),s.Ab(2),s.yc(t.created_at.split(".")[0].replace("T"," ")),s.Ab(2),s.yc(t.updated_at.split(".")[0].replace("T"," "))}}const x=[{path:"",component:(()=>{class t{constructor(t,e){this.http=t,this.router=e,this.reponse=null;const i=this.router.getCurrentNavigation().extras.state;i&&(this.infos=i)}fetchData(){return this.http.get(f.a.api,{headers:(new g.c).set("Accept","application/json").set("Authorization",`Bearer ${localStorage.getItem("t")}`)}).toPromise().then(t=>{this.data=t}).catch(t=>console.log(t))}addEmployee(t,e,i){return this.http.post(f.a.api,{name:t,occupation:e,CIN:i},{headers:{Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("t")}`}}).toPromise().then(t=>{this.addModal.hide(),this.fetchData()}).catch(t=>console.log(t))}deleteEmployee(t){return this.http.delete(f.a.api+t,{headers:{Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("t")}`}}).toPromise().then(t=>{console.log(t),this.fetchData()}).catch(t=>console.log(t))}updateEmployee(){const t=document.getElementById("name").value,e=document.getElementById("occupation").value,i=document.getElementById("cin").value,o=document.getElementById("id").value;return this.http.put(f.a.api+o,{name:t,occupation:e,CIN:i},{headers:{Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("t")}`}}).toPromise().then(t=>{console.log(t),this.fetchData(),this.updateModal.hide()}).catch(t=>console.log(t))}fillUpdateModal(t){this.updateModal.show(),document.getElementById("name").value=t.name,document.getElementById("occupation").value=t.occupation,document.getElementById("cin").value=t.CIN,document.getElementById("id").value=t.id}ngOnInit(){localStorage.getItem("t")&&this.fetchData()}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(g.a),s.Mb(p.c))},t.\u0275cmp=s.Gb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(s.Bc(S,1),s.Bc(R,1)),2&t){let t;s.nc(t=s.ac())&&(e.addModal=t.first),s.nc(t=s.ac())&&(e.updateModal=t.first)}},decls:92,vars:1,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"fa","fa-align-justify"],[1,"px-5"],["type","button","data-toggle","modal",1,"btn","btn-brand","btn-md","btn-spotify","mr-1",2,"margin-bottom","4px",3,"click"],[1,"fa","fa-plus","fa-lg"],[1,"card-body"],[1,"table","table-striped"],[1,"w-100"],[4,"ngFor","ngForOf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["addModal","bs-modal"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Enter the employee's name",1,"form-control"],["name",""],["for","exampleInputPassword1"],["type","text","id","exampleInputPassword1","placeholder","Occupation",1,"form-control"],["occupation",""],["id","exampleInputPassword1","placeholder","CIN",1,"form-control"],["cin",""],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["updateModal","bs-modal"],["type","text","id","name","aria-describedby","emailHelp","placeholder","Enter the employee's name",1,"form-control"],["type","text","id","occupation","placeholder","Occupation",1,"form-control"],["id","cin","placeholder","CIN",1,"form-control"],["type","hidden","id","id"],["type","button",1,"btn","btn-brand","btn-md","btn-flickr","mr-1",2,"margin-bottom","4px",3,"click"],[1,"fa","fa-trash","fa-lg"],["type","button","data-toggle","modal",1,"btn","btn-brand","btn-md","btn-twitter","mr-1",2,"margin-bottom","4px",3,"click"],[1,"fa","fa-edit","fa-lg"]],template:function(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div",0),s.Sb(1,"div"),s.Sb(2,"div",0),s.Sb(3,"div",1),s.Sb(4,"div",2),s.Sb(5,"div",3),s.Sb(6,"div",4),s.Nb(7,"i",5),s.Sb(8,"span",6),s.xc(9," Employee's Table "),s.Rb(),s.Sb(10,"button",7),s.Zb("click",function(){return s.qc(t),s.oc(33).show()}),s.Nb(11,"i",8),s.Rb(),s.Rb(),s.Sb(12,"div",9),s.Sb(13,"table",10),s.Sb(14,"thead",11),s.Sb(15,"tr"),s.Sb(16,"th"),s.xc(17,"ID"),s.Rb(),s.Sb(18,"th"),s.xc(19,"Name"),s.Rb(),s.Sb(20,"th"),s.xc(21,"Occupation"),s.Rb(),s.Sb(22,"th"),s.xc(23,"CIN"),s.Rb(),s.Sb(24,"th"),s.xc(25,"Date registered"),s.Rb(),s.Sb(26,"th"),s.xc(27,"Date updated"),s.Rb(),s.Sb(28,"th"),s.xc(29,"Actions"),s.Rb(),s.Rb(),s.Rb(),s.Sb(30,"tbody"),s.vc(31,y,19,6,"tr",12),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(32,"div",13,14),s.Sb(34,"div",15),s.Sb(35,"div",16),s.Sb(36,"div",17),s.Sb(37,"h4",18),s.xc(38,"Modal title"),s.Rb(),s.Sb(39,"button",19),s.Zb("click",function(){return s.qc(t),s.oc(33).hide()}),s.Sb(40,"span",20),s.xc(41,"\xd7"),s.Rb(),s.Rb(),s.Rb(),s.Sb(42,"div",21),s.Sb(43,"div",22),s.Sb(44,"label",23),s.xc(45,"Employee's Name"),s.Rb(),s.Nb(46,"input",24,25),s.Rb(),s.Sb(48,"div",22),s.Sb(49,"label",26),s.xc(50,"Employee's Occupation"),s.Rb(),s.Nb(51,"input",27,28),s.Rb(),s.Sb(53,"div",22),s.Sb(54,"label",26),s.xc(55,"Employee's CIN"),s.Rb(),s.Nb(56,"input",29,30),s.Rb(),s.Rb(),s.Sb(58,"div",31),s.Sb(59,"button",32),s.Zb("click",function(){return s.qc(t),s.oc(33).hide()}),s.xc(60,"Close"),s.Rb(),s.Sb(61,"button",33),s.Zb("click",function(){s.qc(t);const i=s.oc(47),o=s.oc(52),n=s.oc(57);return e.addEmployee(i.value,o.value,n.value)}),s.xc(62,"Save changes"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(63,"div",13,34),s.Sb(65,"div",15),s.Sb(66,"div",16),s.Sb(67,"div",17),s.Sb(68,"h4",18),s.xc(69,"Update Employee"),s.Rb(),s.Sb(70,"button",19),s.Zb("click",function(){return s.qc(t),s.oc(64).hide()}),s.Sb(71,"span",20),s.xc(72,"\xd7"),s.Rb(),s.Rb(),s.Rb(),s.Sb(73,"div",21),s.Sb(74,"div",22),s.Sb(75,"label",23),s.xc(76,"Employee's Name"),s.Rb(),s.Nb(77,"input",35),s.Rb(),s.Sb(78,"div",22),s.Sb(79,"label",26),s.xc(80,"Employee's Occupation"),s.Rb(),s.Nb(81,"input",36),s.Rb(),s.Sb(82,"div",22),s.Sb(83,"label",26),s.xc(84,"Employee's CIN"),s.Rb(),s.Nb(85,"input",37),s.Rb(),s.Nb(86,"input",38),s.Rb(),s.Sb(87,"div",31),s.Sb(88,"button",32),s.Zb("click",function(){return s.qc(t),s.oc(64).hide()}),s.xc(89,"Close"),s.Rb(),s.Sb(90,"button",33),s.Zb("click",function(){return e.updateEmployee()}),s.xc(91,"Save changes"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}2&t&&(s.Ab(31),s.hc("ngForOf",e.data))},directives:[m.j,v.a],encapsulation:2}),t})(),data:{title:"Dashboard"}}];let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({imports:[[p.g.forChild(x)],p.g]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({imports:[[o.c,k,n.b,a.c,h.forRoot(),m.c,v.b]]}),t})()}}]);